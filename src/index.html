<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>Dashboard</title>
</head>

<body class="bg-light">


  <h1>Static Web Apps Database Connections</h1>
<blockquote>
    Open the console in the browser developer tools to see the API responses.
</blockquote>
<div>
    <button id="list" onclick="list()">List</button>
    <button id="get" onclick="get()">Get</button>
    <button id="update" onclick="update()">Update</button>
    <button id="create" onclick="create()">Create</button>
    <button id="delete" onclick="del()">Delete</button>
</div>



  <header id="navbar-container"></header> <!-- Placeholder for the navigation bar -->
  <main class="container my-5">
    <h1 class="text-center mb-4">Dashboard</h1>
    <div class="row text-center">
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Total Requests</h5>
            <p id="total-requests" class="card-text display-6">0</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Approved Requests</h5>
            <p id="approved-requests" class="card-text display-6">0</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="card-title">Pending Requests</h5>
            <p id="pending-requests" class="card-text display-6">0</p>
          </div>
        </div>
      </div>
    </div>
    <div class="text-center mt-4">
      <a href="holiday-requests.html" class="btn btn-primary">View Holiday Requests</a>
    </div>
  </main>

  <script>
    async function list() {
  const endpoint = '/data-api/rest/RequestType';
  const response = await fetch(endpoint);
  const data = await response.json();
  console.table(data.value);
}
async function create() {

const data = {
  RequestTypeName: "Holiday"
};

const endpoint = `/data-api/rest/RequestType/`;
const response = await fetch(endpoint, {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify(data)
});
const result = await response.json();
console.table(result.value);
}

</script>




  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/menu.js"></script>
  <script src="/js/dashboard.js"></script>
</body>

</html>